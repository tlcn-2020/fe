(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{133:function(e,t,a){e.exports=a(282)},281:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),i=a(308),l=a(309),s=a(22),u=a(7),m=a(19),d=a(299),h=a(303),p=a(27),b=a(58),f=a(34),g=a.n(f),v=a(51),E=a(15),w=a(310),j=a(311),O=a(122),k=a.n(O),y=a(38),x=a(52),C=a.n(x),N=a(300),S=a(314),I=a(301),R=a(302),L=Object(d.a)((function(e){return{container:{width:"80ch",overflow:"auto",maxHeight:300,margin:"0 auto",backgroundColor:e.palette.common.white,borderRadius:"1rem",border:"1px solid #ccc",borderTopLeftRadius:0,borderTop:"none",borderTopRightRadius:0,position:"absolute",zIndex:1},movieItem:{cursor:"pointer","&:hover":{backgroundColor:Object(E.b)(e.palette.common.black,.05)}},movieImage:{width:40,height:40}}})),B=function(e){var t=e.movies,a=void 0===t?[]:t,n=L(),c=Object(u.f)();return r.a.createElement(N.a,{className:n.container},a.length>0?a.map((function(e){return r.a.createElement(S.a,{key:e._id,className:n.movieItem,onClick:function(){c.push("/search-detail/".concat(e._id))}},r.a.createElement(I.a,{className:n.movieImage},r.a.createElement(C.a,{src:e.image,alt:e.name,imageStyle:{borderRadius:"50%",width:40,height:40}})),r.a.createElement(R.a,null,e.name))})):r.a.createElement(S.a,null,r.a.createElement(R.a,null,"No results")))},D=a(121),M=a.n(D).a.create({baseURL:"https://t-connect-backend.koreasouth.cloudapp.azure.com/search/"});function P(e,t){return _.apply(this,arguments)}function _(){return(_=Object(v.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post(t,a);case 3:return n=e.sent,e.abrupt("return",{hasError:!1,data:n.data});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{hasError:!0,data:JSON.stringify(e.t0)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var J=Object(d.a)((function(e){return{container:{position:"relative"},search:{position:"relative",backgroundColor:Object(E.b)(e.palette.common.white,.15),border:"1px solid #ccc",borderRadius:"1rem","&:hover":{backgroundColor:Object(E.b)(e.palette.common.white,.25)},marginLeft:0,width:"80ch"},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:b.a[500]},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1.5),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},hasSearchValue:{borderBottom:"none",borderBottomLeftRadius:0,borderBottomRightRadius:0}}}));var T=function(e){var t=e.value,a=void 0===t?"":t,c=e.onChange,o=e.onKeyDown,i=e.styleProp,l=e.onChangeMovie,s=Object(n.useState)(a),u=Object(m.a)(s,2),d=u[0],h=u[1],p=Object(n.useState)([]),b=Object(m.a)(p,2),f=b[0],E=b[1],O=Object(n.useState)(!1),x=Object(m.a)(O,2),C=x[0],N=x[1],S=Object(n.useState)(!0),I=Object(m.a)(S,2),R=I[0],L=I[1],D=Object(n.useCallback)((function(){L(!1)})),M=Object(n.useCallback)(Object(y.debounce)((function(){c&&c(d)}),[500]),[d]),_=Object(n.useCallback)(Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("/search",{name:d});case 2:(t=e.sent).hasError||(E(t.data),l&&l(t.data)),console.log(t);case 5:case"end":return e.stop()}}),e)}))),[d]),T=Object(n.useCallback)((function(e){h(e.target.value),N(!0)})),W=J(i);return Object(n.useEffect)((function(){M(),_()}),[d]),Object(n.useEffect)((function(){return window.addEventListener("click",D),function(){window.removeEventListener("click",D)}})),r.a.createElement(w.a,{className:W.container,onClick:function(e){e.stopPropagation(),L(!0)}},r.a.createElement("div",{className:"".concat(W.search," ").concat(d.length>0&&C&&R&&W.hasSearchValue)},r.a.createElement("div",{className:W.searchIcon},r.a.createElement(k.a,null)),r.a.createElement(j.a,{placeholder:"Search\u2026",classes:{root:W.inputRoot,input:W.inputInput},inputProps:{"aria-label":"search"},value:d,onChange:function(e){T(e)},onKeyDown:function(e){o&&o(e)}})),d.length>0&&C&&R&&r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"...")},r.a.createElement(B,{movies:f})))},W=Object(d.a)((function(e){return{container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},header:{color:b.a[500],fontWeight:"medium",marginBottom:e.spacing(6)}}}));var q=function(e){var t=e.history,a=Object(n.useState)(""),c=Object(m.a)(a,2),o=c[0],i=c[1],l=W(),s=Object(n.useCallback)((function(e){13===e.keyCode&&t.push("/search?q=".concat(o))}),[o]);return Object(n.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}})),r.a.createElement(h.a,{className:l.container},r.a.createElement(p.a,{variant:"h2",align:"center",className:l.header},"Movie Searcher"),r.a.createElement(T,{onChange:function(e){return i(e)}}))},z=(a(304),a(59)),K=Object(d.a)((function(e){return{header:{display:"flex",alignItems:"center",padding:e.spacing(1),borderBottom:"1px solid #eee"},title:{color:b.a[500],marginRight:e.spacing(2),"& a":{textDecoration:"none !important"}},watchBtn:{background:z.a[500],color:"#fff","&:hover":{background:z.a[700]}}}}));var U=function(e){e.match,console.log(null);var t=K();return r.a.createElement(h.a,null,r.a.createElement("header",{className:t.header},r.a.createElement(p.a,{variant:"h4",className:t.title},r.a.createElement(s.b,{to:"/"},"Movie Searcher"))),r.a.createElement("main",null,r.a.createElement(p.a,null,"No movie detail found")))},V=a(123),A=a(315),H=a(305),$=a(306),F=a(307),G=a(312),Q=a(124),X=a.n(Q),Y=Object(d.a)((function(e){return{movie:Object(V.a)({width:"calc(100% / 5)",margin:e.spacing(2,0),padding:e.spacing(1),transition:"transform 0.5s ease",cursor:"pointer","&:hover":{transform:"scale(1.05)"}},e.breakpoints.down("sm"),{width:"calc(100% / 3)"}),media:{height:250,backgroundPosition:"center"}}})),Z=function(e){var t=e.movies,a=void 0===t?[]:t,n=e.history,c=Y();return r.a.createElement(X.a,null,a.map((function(e){return r.a.createElement(A.a,{key:e._id,className:c.movie,onClick:function(){n.push("/search-detail/".concat(e._id))}},r.a.createElement(H.a,{subheader:e.relases,title:e.name}),r.a.createElement(G.a,{max:10,value:parseInt(e.imdb)||0,disabled:!0,name:"rating"}),r.a.createElement($.a,{title:e.name,image:e.image||"/fe/images/placeholder.png",className:c.media}),r.a.createElement(F.a,null,e.description.length?e.description:"No descriptions"))})))},ee=Object(d.a)((function(e){return{header:{display:"flex",alignItems:"center",padding:e.spacing(1),borderBottom:"1px solid #eee"},title:{color:b.a[500],marginRight:e.spacing(2),"& a":{textDecoration:"none !important"}}}})),te=function(e){var t=e.location,a=e.history,c=new URLSearchParams(t.search).get("q")||"",o=Object(n.useState)(c),i=Object(m.a)(o,2),l=i[0],u=i[1],d=Object(n.useState)([]),b=Object(m.a)(d,2),f=b[0],g=b[1],v=ee();return r.a.createElement(h.a,null,r.a.createElement("header",{className:v.header},r.a.createElement(p.a,{variant:"h4",className:v.title},r.a.createElement(s.b,{to:"/"},"Movie Searcher")),r.a.createElement(T,{value:l,onChangeMovie:function(e){g(e)},onChange:function(e){u(e)}})),r.a.createElement("main",null,r.a.createElement(p.a,{variant:"h6"},"Search results for: ",l," (",f.length,")"),l.length>0&&r.a.createElement(Z,{movies:f,history:a})))};a(281);var ae=function(){return r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:q}),r.a.createElement(u.a,{exact:!0,path:"/search",component:te}),r.a.createElement(u.a,{exact:!0,path:"/search-detail/:movieId",component:U}))},ne=a(125),re=Object(ne.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:z.a.A400},background:{default:"#fff"}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{theme:re},r.a.createElement(l.a,null),r.a.createElement(s.a,null,r.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[133,1,2]]]);
//# sourceMappingURL=main.f21292d7.chunk.js.map