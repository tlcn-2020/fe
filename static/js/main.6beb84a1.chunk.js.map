{"version":3,"sources":["components/search-input/auto-complete.js","api/index.js","components/search-input/index.js","pages/main.js","pages/movie-detail.js","components/movie-list/index.js","pages/search.js","App.js","theme.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","container","width","overflow","maxHeight","margin","backgroundColor","palette","common","white","borderRadius","border","borderTopLeftRadius","borderTop","borderTopRightRadius","position","zIndex","movieItem","cursor","fade","black","movieImage","height","MyAutoComplete","movies","classes","history","useHistory","List","className","length","map","movie","ListItem","key","onClick","push","ListItemIcon","src","image","alt","name","imageStyle","ListItemText","myAxios","axios","create","baseURL","headers","postRequest","url","body","a","post","res","hasError","data","JSON","stringify","get","search","marginLeft","searchIcon","padding","spacing","pointerEvents","display","alignItems","justifyContent","color","indigo","inputRoot","inputInput","paddingLeft","transition","transitions","hasSearchValue","borderBottom","borderBottomLeftRadius","borderBottomRightRadius","SearchInput","value","onChange","onKeyDown","styleProp","onChangeMovie","useState","setSearch","setMovies","didSearch","setDidSearch","showAutocomplete","setShowAutocomplete","turnOffAutoComplete","useCallback","callOuterOnChange","debounce","searchFunc","console","log","handleChange","e","target","useEffect","window","addEventListener","removeEventListener","Box","stopPropagation","InputBase","placeholder","root","input","inputProps","fallback","flexDirection","header","fontWeight","marginBottom","Main","handleNavigateToSearch","keyCode","Container","Typography","variant","align","title","marginRight","textDecoration","watchBtn","background","red","MovieDetail","movieId","match","params","setMovie","getRequest","then","to","style","backgroundImage","bottom","Button","isEmpty","imdb","national","categories","c","join","relases","time","description","transform","breakpoints","down","media","backgroundPosition","MovieList","Card","CardHeader","subheader","Rating","max","parseInt","disabled","CardMedia","process","CardContent","Search","location","query","URLSearchParams","App","exact","path","component","createMuiTheme","primary","main","secondary","error","A400","default","Boolean","hostname","ReactDOM","render","ThemeProvider","CssBaseline","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.6beb84a1.chunk.js","sourcesContent":["import React from \"react\";\nimport Image from \"material-ui-image\";\nimport {\n  makeStyles,\n  fade,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n} from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    width: \"80ch\",\n    overflow: \"auto\",\n    maxHeight: 300,\n    margin: \"0 auto\",\n    backgroundColor: theme.palette.common.white,\n    borderRadius: \"1rem\",\n    border: \"1px solid #ccc\",\n    borderTopLeftRadius: 0,\n    borderTop: \"none\",\n    borderTopRightRadius: 0,\n    position: \"absolute\",\n    zIndex: 1,\n  },\n  movieItem: {\n    cursor: \"pointer\",\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.black, 0.05),\n    },\n  },\n  movieImage: {\n    width: 40,\n    height: 40,\n  },\n}));\n\nconst MyAutoComplete = ({ movies = [] }) => {\n  //HOOK\n  const classes = useStyles();\n  const history = useHistory();\n\n  //FUNCTION\n\n  return (\n    <List className={classes.container}>\n      {movies.length > 0 ? (\n        movies.map((movie) => (\n          <ListItem\n            key={movie[\"_id\"]}\n            className={classes.movieItem}\n            onClick={() => {\n              history.push(`/search-detail/${movie[\"_id\"]}`);\n            }}\n          >\n            <ListItemIcon className={classes.movieImage}>\n              <Image\n                src={movie.image}\n                alt={movie.name}\n                imageStyle={{ borderRadius: \"50%\", width: 40, height: 40 }}\n              />\n            </ListItemIcon>\n            <ListItemText>{movie.name}</ListItemText>\n          </ListItem>\n        ))\n      ) : (\n        <ListItem>\n          <ListItemText>No results</ListItemText>\n        </ListItem>\n      )}\n    </List>\n  );\n};\n\nexport default MyAutoComplete;\n","import axios from \"axios\";\n\nconst baseURL =\n  process.env.NODE_ENV === \"production\"\n    ? \"https://t-connect-backend.koreasouth.cloudapp.azure.com/movies/\"\n    : \"http://localhost:5000/\";\n\nconst myAxios = axios.create({\n  baseURL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport async function postRequest(url, body) {\n  try {\n    const res = await myAxios.post(url, body);\n    return {\n      hasError: false,\n      data: res.data,\n    };\n  } catch (err) {\n    return {\n      hasError: true,\n      data: JSON.stringify(err),\n    };\n  }\n}\n\nexport async function getRequest(url) {\n  try {\n    const res = await myAxios.get(url);\n    return {\n      hasError: false,\n      data: res.data,\n    };\n  } catch (err) {\n    return {\n      hasError: true,\n      data: JSON.stringify(err),\n    };\n  }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { makeStyles, InputBase, fade, Box } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { indigo } from \"@material-ui/core/colors\";\nimport React, { Suspense, useCallback, useEffect, useState } from \"react\";\nimport { debounce } from \"lodash\";\nimport MyAutoComplete from \"./auto-complete\";\nimport { postRequest } from \"../../api\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    position: \"relative\",\n  },\n  search: {\n    position: \"relative\",\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    border: \"1px solid #ccc\",\n    borderRadius: \"1rem\",\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    width: \"80ch\",\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: indigo[500],\n  },\n  inputRoot: {\n    color: \"inherit\",\n    width: \"100%\",\n  },\n  inputInput: {\n    padding: theme.spacing(1.5),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n  },\n  hasSearchValue: {\n    borderBottom: \"none\",\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n}));\n\nfunction SearchInput({\n  value = \"\",\n  onChange,\n  onKeyDown,\n  styleProp,\n  onChangeMovie,\n}) {\n  //STATE\n  const [search, setSearch] = useState(value);\n  const [movies, setMovies] = useState([]);\n  const [didSearch, setDidSearch] = useState(false);\n  const [showAutocomplete, setShowAutocomplete] = useState(true);\n\n  //FUNCTION\n  const turnOffAutoComplete = useCallback(() => {\n    setShowAutocomplete(false);\n  });\n  const callOuterOnChange = useCallback(\n    debounce(() => {\n      onChange && onChange(search);\n    }, [500]),\n    [search]\n  );\n\n  const searchFunc = useCallback(async () => {\n    const res = await postRequest(\"/search\", { name: search });\n    if (!res.hasError) {\n      setMovies(res.data);\n      onChangeMovie && onChangeMovie(res.data);\n    }\n    console.log(res);\n  }, [search]);\n\n  const handleChange = useCallback((e) => {\n    setSearch(e.target.value);\n    setDidSearch(true);\n  });\n\n  // HOOK\n  const classes = useStyles(styleProp);\n  useEffect(() => {\n    callOuterOnChange();\n    searchFunc();\n  }, [search]);\n\n  useEffect(() => {\n    window.addEventListener(\"click\", turnOffAutoComplete);\n    return () => {\n      window.removeEventListener(\"click\", turnOffAutoComplete);\n    };\n  });\n\n  return (\n    <Box\n      className={classes.container}\n      onClick={(e) => {\n        e.stopPropagation();\n        setShowAutocomplete(true);\n      }}\n    >\n      <div\n        className={`${classes.search} ${\n          search.length > 0 &&\n          didSearch &&\n          showAutocomplete &&\n          classes.hasSearchValue\n        }`}\n      >\n        <div className={classes.searchIcon}>\n          <SearchIcon />\n        </div>\n        <InputBase\n          placeholder=\"Search…\"\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput,\n          }}\n          inputProps={{ \"aria-label\": \"search\" }}\n          value={search}\n          onChange={(e) => {\n            handleChange(e);\n          }}\n          onKeyDown={(e) => {\n            onKeyDown && onKeyDown(e);\n          }}\n        />\n      </div>\n      {search.length > 0 && didSearch && showAutocomplete && (\n        <Suspense fallback={<div>...</div>}>\n          <MyAutoComplete movies={movies} />\n        </Suspense>\n      )}\n    </Box>\n  );\n}\n\nexport default SearchInput;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { Container, Typography, makeStyles } from \"@material-ui/core\";\nimport { indigo } from \"@material-ui/core/colors\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport SearchInput from \"../components/search-input\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"100vh\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n  header: {\n    color: indigo[500],\n    fontWeight: \"medium\",\n    marginBottom: theme.spacing(6),\n  },\n}));\n\nfunction Main({ history }) {\n  //STATE\n  const [search, setSearch] = useState(\"\");\n  // HOOK\n  const classes = useStyles();\n\n  const handleNavigateToSearch = useCallback(\n    (e) => {\n      if (e.keyCode === 13) {\n        history.push(`/search?q=${search}`);\n      }\n    },\n    [search]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleNavigateToSearch);\n    return () => {\n      window.removeEventListener(\"keydown\", handleNavigateToSearch);\n    };\n  });\n\n  return (\n    <Container className={classes.container}>\n      <Typography variant=\"h2\" align=\"center\" className={classes.header}>\n        Movie Searcher\n      </Typography>\n      <SearchInput onChange={(value) => setSearch(value)} />\n    </Container>\n  );\n}\n\nexport default Main;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport {\n  Container,\n  Typography,\n  makeStyles,\n  Box,\n  Button,\n} from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport { indigo, red } from \"@material-ui/core/colors\";\nimport Image from \"material-ui-image\";\nimport { isEmpty } from \"lodash\";\nimport { getRequest } from \"../api\";\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n    borderBottom: \"1px solid #eee\",\n  },\n  title: {\n    color: indigo[500],\n    marginRight: theme.spacing(2),\n    \"& a\": {\n      textDecoration: \"none !important\",\n    },\n  },\n  watchBtn: {\n    background: red[500],\n    color: \"#fff\",\n    \"&:hover\": {\n      background: red[700],\n    },\n  },\n}));\n\nfunction MovieDetail({ match }) {\n  const movieId = match.params.movieId;\n  //STATE\n  const [movie, setMovie] = useState(null);\n\n  //HOOK\n  const classes = useStyles();\n  useEffect(() => {\n    getRequest(`/movie-detail/${movieId}`).then((res) => {\n      if (!res.hasError) {\n        setMovie(res.data);\n      }\n    });\n  }, []);\n\n  return (\n    <Container>\n      <header className={classes.header}>\n        <Typography variant=\"h4\" className={classes.title}>\n          <Link to=\"/\">Movie Searcher</Link>\n        </Typography>\n      </header>\n      <main>\n        {movie ? (\n          <Box className=\"movie-container\">\n            <div className=\"movie-intro\">\n              <div\n                className=\"image\"\n                style={{ backgroundImage: `url(${movie.image})` }}\n              >\n                <Image\n                  alt=\"movie poster\"\n                  src={movie.image}\n                  style={{ height: \"100%\" }}\n                />\n                <Box position=\"absolute\" bottom={0} margin={0.5}>\n                  <Button variant=\"contained\" className={classes.watchBtn}>\n                    Watch movie\n                  </Button>\n                </Box>\n              </div>\n              <div className=\"intro\">\n                <h2 className=\"title\">{movie.name}</h2>\n                <ul className=\"detail\">\n                  <li>\n                    IDMB:{\" \"}\n                    <span>{isEmpty(movie.imdb) ? \"Unknown\" : movie.imdb}</span>\n                  </li>\n                  <li>\n                    Nation: <span>{movie.national}</span>\n                  </li>\n                  <li>\n                    Genres:{\" \"}\n                    <span>\n                      {movie.categories.map((c) => c.name).join(\", \")}\n                    </span>\n                  </li>\n                  <li>\n                    Release:\n                    <span>\n                      {\" \"}\n                      {!isEmpty(movie.relases) ? movie.relases : \"Unknown\"}\n                    </span>\n                  </li>\n                  <li>\n                    Duration: <span>{movie.time}</span>\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <div className=\"story-line\">\n              <h2>Description</h2>\n              {movie.description}\n            </div>\n          </Box>\n        ) : (\n          <Typography>No movie detail found</Typography>\n        )}\n      </main>\n    </Container>\n  );\n}\n\nexport default MovieDetail;\n","import {\n  Card,\n  CardContent,\n  CardHeader,\n  CardMedia,\n  makeStyles,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport { Rating } from \"@material-ui/lab\";\nimport Masonry from \"react-masonry-component\";\n\nconst useStyles = makeStyles((theme) => ({\n  movie: {\n    width: `calc(100% / 5)`,\n    margin: theme.spacing(2, 0),\n    padding: theme.spacing(1),\n    transition: \"transform 0.5s ease\",\n    cursor: \"pointer\",\n    \"&:hover\": {\n      transform: \"scale(1.05)\",\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: `calc(100% / 3)`,\n    },\n  },\n  media: {\n    height: 250,\n    backgroundPosition: \"center\",\n  },\n}));\n\nconst MovieList = ({ movies = [], history }) => {\n  //HOOK\n  const classes = useStyles();\n\n  return (\n    <Masonry>\n      {movies.map((movie) => (\n        <Card\n          key={movie[\"_id\"]}\n          className={classes.movie}\n          onClick={() => {\n            history.push(`/search-detail/${movie[\"_id\"]}`);\n          }}\n        >\n          <CardHeader subheader={movie.relases} title={movie.name} />\n          <Rating\n            max={10}\n            value={parseInt(movie.imdb) || 0}\n            disabled\n            name=\"rating\"\n          />\n          <CardMedia\n            title={movie.name}\n            image={\n              movie.image || process.env.PUBLIC_URL + \"/images/placeholder.JPG\"\n            }\n            className={classes.media}\n          />\n          <CardContent>\n            {movie.description.length ? movie.description : \"No descriptions\"}\n          </CardContent>\n        </Card>\n      ))}\n    </Masonry>\n  );\n};\n\nexport default MovieList;\n","import { Container, makeStyles, Typography } from \"@material-ui/core\";\nimport { indigo } from \"@material-ui/core/colors\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport MovieList from \"../components/movie-list\";\nimport SearchInput from \"../components/search-input\";\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n    borderBottom: \"1px solid #eee\",\n  },\n  title: {\n    color: indigo[500],\n    marginRight: theme.spacing(2),\n    \"& a\": {\n      textDecoration: \"none !important\",\n    },\n  },\n}));\n\nconst Search = ({ location, history }) => {\n  const searchParams = new URLSearchParams(location.search);\n  const query = searchParams.get(\"q\") || \"\";\n\n  //STATE\n  const [search, setSearch] = useState(query);\n  const [movies, setMovies] = useState([]);\n  //HOOK\n  const classes = useStyles();\n\n  return (\n    <Container>\n      <header className={classes.header}>\n        <Typography variant=\"h4\" className={classes.title}>\n          <Link to=\"/\">Movie Searcher</Link>\n        </Typography>\n        <SearchInput\n          value={search}\n          onChangeMovie={(movies) => {\n            setMovies(movies);\n          }}\n          onChange={(value) => {\n            setSearch(value);\n          }}\n        />\n      </header>\n      <main>\n        <Typography variant=\"h6\">\n          Search results for: {search} ({movies.length})\n        </Typography>\n\n        {search.length > 0 && <MovieList movies={movies} history={history} />}\n      </main>\n    </Container>\n  );\n};\n\nexport default Search;\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Main from \"./pages/main.js\";\nimport MovieDetail from \"./pages/movie-detail.js\";\nimport Search from \"./pages/search.js\";\nimport \"./app.scss\";\n\nfunction App() {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Main} />\n      <Route exact path=\"/search\" component={Search} />\n      <Route exact path=\"/search-detail/:movieId\" component={MovieDetail} />\n    </Switch>\n  );\n}\n\nexport default App;\n","import { red } from \"@material-ui/core/colors\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#556cd6\",\n    },\n    secondary: {\n      main: \"#19857b\",\n    },\n    error: {\n      main: red.A400,\n    },\n    background: {\n      default: \"#fff\",\n    },\n  },\n});\n\nexport default theme;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { HashRouter } from \"react-router-dom\";\n\nimport App from \"./App\";\nimport theme from \"./theme\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </ThemeProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}