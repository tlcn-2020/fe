(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{133:function(e,a,t){},134:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),o=t.n(c),i=t(173),l=t(174),s=t(23),m=t(13),u=t(10),d=t(161),f=t(165),p=t(29),h=t(56),g=t(28),b=t.n(g),E=t(41),v=t(42),y=t(15),w=t(176),j=t(179),k=t(82),O=t.n(k),x=t(46),C=t.n(x),S=t(162),N=t(65),I=t(139),L=t(163),R=t(164),B=Object(d.a)((function(e){return{container:{width:"80ch",overflow:"auto",maxHeight:300,margin:"0 auto",backgroundColor:e.palette.common.white,borderRadius:"1rem",border:"1px solid #ccc",borderTopLeftRadius:0,borderTop:"none",borderTopRightRadius:0,position:"absolute",zIndex:1},movieItem:{cursor:"pointer","&:hover":{backgroundColor:Object(y.b)(e.palette.common.black,.05)}},movieImage:{width:40,height:40}}})),D=function(e){var a=e.movies,t=void 0===a?[]:a,n=e.isSearching,c=void 0===n||n,o=B(),i=Object(u.f)();return r.a.createElement(S.a,{className:o.container},c?r.a.createElement(N.a,{color:"secondary",size:40,style:{margin:"auto",color:h.a[500],display:"block"}}):t.length>0?t.map((function(e){return r.a.createElement(I.a,{key:e._id,className:o.movieItem,onClick:function(){i.push("/search-detail/".concat(e._id))}},r.a.createElement(L.a,{className:o.movieImage},r.a.createElement(C.a,{src:e.image,alt:e.name,imageStyle:{borderRadius:"50%",width:40,height:40}})),r.a.createElement(R.a,null,e.name))})):r.a.createElement(I.a,null,r.a.createElement(R.a,null,"No results")))},W=t(81),P=t.n(W).a.create({baseURL:"https://t-connect-backend.koreasouth.cloudapp.azure.com/movies/",headers:{"content-type":"application/json"}});function z(e,a){return T.apply(this,arguments)}function T(){return(T=Object(v.a)(b.a.mark((function e(a,t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.post(a,t);case 3:return n=e.sent,e.abrupt("return",{hasError:!1,data:n.data});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{hasError:!0,data:JSON.stringify(e.t0)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function A(){return(A=Object(v.a)(b.a.mark((function e(a){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.get(a);case 3:return t=e.sent,e.abrupt("return",{hasError:!1,data:t.data});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{hasError:!0,data:JSON.stringify(e.t0)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var M=Object(d.a)((function(e){return{container:{position:"relative"},search:{position:"relative",backgroundColor:Object(y.b)(e.palette.common.white,.15),border:"1px solid #ccc",borderRadius:"1rem","&:hover":{backgroundColor:Object(y.b)(e.palette.common.white,.25)},marginLeft:0,width:"80ch"},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",color:h.a[500]},inputRoot:{color:"inherit",width:"100%"},inputInput:{padding:e.spacing(1.5),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},hasSearchValue:{borderBottom:"none",borderBottomLeftRadius:0,borderBottomRightRadius:0}}}));var U=function(e){var a=e.value,t=void 0===a?"":a,c=e.onChange,o=e.onKeyDown,i=e.styleProp,l=e.onChangeMovie,s=e.setIsSearching,u=e.filter,d=Object(n.useState)(t),f=Object(m.a)(d,2),p=f[0],h=f[1],g=Object(n.useState)([]),y=Object(m.a)(g,2),k=y[0],x=y[1],C=Object(n.useState)(!1),S=Object(m.a)(C,2),N=S[0],I=S[1],L=Object(n.useState)(!0),R=Object(m.a)(L,2),B=R[0],W=R[1],P=Object(n.useState)(!1),T=Object(m.a)(P,2),A=T[0],U=T[1],_=Object(n.useContext)(me).setFilter,F=Object(n.useCallback)((function(){W(!1)})),J=Object(n.useCallback)((function(){c&&c(p)}),[p]),q=Object(n.useCallback)(Object(v.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,z("/search",Object(E.a)({q:p},u));case 3:(a=e.sent).hasError||(x(a.data),l&&l(a.data)),U(!1);case 6:case"end":return e.stop()}}),e)})))),H=Object(n.useCallback)((function(e){_({year:"1",nation:"1"}),h(e.target.value),I(!0)})),G=M(i);return Object(n.useEffect)((function(){J(),q()}),[p]),Object(n.useEffect)((function(){s&&s(A)}),[A]),Object(n.useEffect)((function(){q()}),[u]),Object(n.useEffect)((function(){return window.addEventListener("click",F),function(){window.removeEventListener("click",F)}})),r.a.createElement(w.a,{className:G.container,onClick:function(e){e.stopPropagation(),W(!0)}},r.a.createElement("div",{className:"".concat(G.search," ").concat(N&&B&&G.hasSearchValue)},r.a.createElement("div",{className:G.searchIcon},r.a.createElement(O.a,null)),r.a.createElement(j.a,{placeholder:"Enter movie name, actor, description,...",classes:{root:G.inputRoot,input:G.inputInput},inputProps:{"aria-label":"search"},value:p,onChange:function(e){H(e)},onKeyDown:function(e){o&&o(e)}})),N&&B&&r.a.createElement(D,{movies:k,isSearching:A}))},_=Object(d.a)((function(e){return{container:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},header:{color:h.a[500],fontWeight:"medium",marginBottom:e.spacing(6)}}}));var F=function(e){var a=e.history,t=Object(n.useState)(""),c=Object(m.a)(t,2),o=c[0],i=c[1],l=_(),s=Object(n.useCallback)((function(e){13===e.keyCode&&a.push("/search?q=".concat(o))}),[o]);return Object(n.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}})),r.a.createElement(f.a,{className:l.container},r.a.createElement(p.a,{variant:"h2",align:"center",className:l.header},"Movie Searcher"),r.a.createElement(U,{onChange:function(e){return i(e)}}))},J=t(166),q=t(167),H=t(168),G=t(180),K=t(57),V=t(83),Q=t(177),X=Object(d.a)((function(e){return{header:{display:"flex",alignItems:"center",padding:e.spacing(1),borderBottom:"1px solid #eee",background:e.palette.background.paper,marginBottom:"0.5rem"},title:{color:h.a[500],marginRight:e.spacing(2),"& a":{textDecoration:"none !important"}},watchBtn:{display:"block",background:K.a[500],color:"#fff",margin:"auto","&:hover":{background:K.a[700]},"& a":{textDecoration:"none !important",color:"#fff !important"}},actorList:{overflowX:"auto",maxHeight:"150px"},movieInfoList:{flex:1,overflow:"auto",position:"relative"}}}));var Y=function(e){var a,t=e.match.params.movieId,c=Object(n.useState)(null),o=Object(m.a)(c,2),i=o[0],l=o[1],u=X();return Object(n.useEffect)((function(){(function(e){return A.apply(this,arguments)})("/movie-detail/".concat(t)).then((function(e){e.hasError||l(e.data)}))}),[]),r.a.createElement(f.a,null,r.a.createElement("header",{className:u.header},r.a.createElement(p.a,{variant:"h4",className:u.title},r.a.createElement(s.b,{to:"/"},"Movie Searcher"))),r.a.createElement(w.a,{component:"main",style:{background:"#f0f2f5"}},i?r.a.createElement(w.a,{boxShadow:1},r.a.createElement(w.a,{display:"flex",height:500,position:"relative",padding:2,style:{background:"#fff"}},r.a.createElement(w.a,{className:"image",style:{backgroundImage:"url(".concat(i.image,")"),backgroundSize:"cover",backgroundPosition:"center",zIndex:0},marginRight:2,width:"30%",position:"relative"},r.a.createElement(C.a,{alt:"movie poster",src:i.image,style:{height:"100%"}}),r.a.createElement(w.a,{position:"absolute",bottom:0,marginBottom:2,width:"100%"},r.a.createElement(J.a,{variant:"contained",className:u.watchBtn},r.a.createElement("a",{href:"http://www.phimmoizz.net/phim/".concat(t,"/xem-phim.html"),target:"_blank",rel:"noopener noreferrer"}," ","Watch movie")))),r.a.createElement(w.a,{flexGrow:1},r.a.createElement(p.a,{variant:"h4"},i.name),r.a.createElement(S.a,{subheader:r.a.createElement(q.a,{style:{background:"#fff"}},"Movie information"),className:u.movieInfoList},r.a.createElement(I.a,null,r.a.createElement(R.a,null,r.a.createElement(w.a,{display:"flex",alignItems:"center"},r.a.createElement("strong",null,"IDMB: "),parseFloat(i.imdb)?r.a.createElement(Q.a,{value:parseFloat(i.imdb),max:10,readOnly:!0,style:{marginLeft:"0.5rem"}}):r.a.createElement("span",{style:{marginLeft:"0.5rem"}},"Unknown")))),r.a.createElement(I.a,null,r.a.createElement(R.a,null,r.a.createElement(w.a,{display:"flex",alignItems:"center"},r.a.createElement("strong",null,"Nation:"),r.a.createElement("span",{style:{marginLeft:"0.5rem"}},i.national)))),r.a.createElement(I.a,null,r.a.createElement(R.a,null,r.a.createElement(w.a,{display:"flex",alignItems:"center"},r.a.createElement("strong",null,"Genres:"),r.a.createElement("span",{style:{marginLeft:"0.5rem"}},i.categories.map((function(e){return e.name})).join(", "))))),r.a.createElement(I.a,null,r.a.createElement(R.a,null,r.a.createElement(w.a,{display:"flex",alignItems:"center"},r.a.createElement("strong",null,"Duration:"),r.a.createElement("span",{style:{marginLeft:"0.5rem"}},i.time)))),r.a.createElement(I.a,null,r.a.createElement(R.a,null,r.a.createElement(w.a,{display:"flex",alignItems:"center"},r.a.createElement("strong",null,"Release:"),r.a.createElement("span",{style:{marginLeft:"0.5rem"}},Object(V.isEmpty)(i.relases)?"Unknown":i.relases))))))),r.a.createElement(H.a,null),r.a.createElement(w.a,{style:{background:"#fff"},padding:2},r.a.createElement(p.a,{variant:"h4"},"Directors"),i.directors.length>0&&i.directors.map((function(e,a){return r.a.createElement(w.a,{key:a,margin:"0.5rem",display:"inline-flex",flexDirection:"column",alignItems:"center",width:"auto"},r.a.createElement(G.a,{src:e.image,alt:e.name}),r.a.createElement(p.a,{variant:"subtitle1"},e.name))}))),r.a.createElement(H.a,null),r.a.createElement(w.a,{style:{background:"#fff"},padding:2},r.a.createElement(p.a,{variant:"h4"},"Actors"),r.a.createElement(w.a,{display:"flex",className:u.actorList,flexDirection:"column",flexWrap:"wrap"},(null===i||void 0===i||null===(a=i.artists)||void 0===a?void 0:a.length)>0&&i.artists.map((function(e,a){return r.a.createElement(w.a,{key:a,margin:"0.5rem",display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},r.a.createElement(G.a,{src:e.image,alt:e.first_name}),r.a.createElement(p.a,{variant:"subtitle1"},e.first_name))})))),r.a.createElement(H.a,null),r.a.createElement(w.a,{style:{background:"#fff"},padding:2},r.a.createElement(p.a,{variant:"h4"},"Description"),r.a.createElement(p.a,{paragraph:!0}," ",i.description))):r.a.createElement(p.a,null,"No movie detail found")))},$=t(31),Z=t(175),ee=t(172),ae=t(169),te=t(170),ne=t(171),re=Object(d.a)((function(e){return{movie:Object($.a)({width:"calc(100% / 5 - 1rem)",padding:e.spacing(1),transition:"transform 0.5s ease",cursor:"pointer",margin:"0.5rem","&:hover":{transform:"scale(1.05)"}},e.breakpoints.down("sm"),{width:"calc(100% / 3 - 1rem)"}),media:{height:250,backgroundPosition:"center"}}})),ce=function(e){var a=e.movies,t=void 0===a?[]:a,n=e.history,c=re();return r.a.createElement(w.a,{display:"flex",flexWrap:"wrap",justifyContent:"center"},t.length>0&&t.map((function(e){return r.a.createElement(ae.a,{key:e._id,className:c.movie,onClick:function(){n.push("/search-detail/".concat(e._id))}},r.a.createElement(te.a,{subheader:e.time,title:e.name}),r.a.createElement(Q.a,{max:10,value:parseInt(e.imdb)||0,readOnly:!0,name:"rating",size:"small"}),r.a.createElement(ne.a,{title:e.name,image:e.image||"/fe/images/placeholder.JPG",className:c.media}))})))},oe=["Vi\u1ec7t Nam","Trung Qu\u1ed1c","M\u1ef9","H\xe0n Qu\u1ed1c","Nh\u1eadt B\u1ea3n","H\u1ed3ng Kong","\u1ea4n \u0110\u1ed9","Th\xe1i Lan","Ph\xe1p","\u0110\xe0i Loan","\xdac","Canada","Anh"],ie=[2020,2019,2018,2017,2016],le=Object(d.a)((function(e){return{header:{display:"flex",alignItems:"center",padding:e.spacing(1),borderBottom:"1px solid #919191",flexWrap:"wrap",marginBottom:"1rem"},title:{color:h.a[500],marginRight:e.spacing(2),"& a":{textDecoration:"none !important"}},filterTitle:{fontWeight:"bold",fontSize:"1rem"}}})),se=function(e){var a=e.location,t=e.history,c=new URLSearchParams(a.search).get("q")||"",o=Object(n.useState)(c),i=Object(m.a)(o,2),l=i[0],u=i[1],d=Object(n.useState)([]),g=Object(m.a)(d,2),b=g[0],v=g[1],y=Object(n.useState)(!1),j=Object(m.a)(y,2),k=j[0],O=j[1],x=le(),C=Object(n.useContext)(me),S=C.filter,I=C.setFilter;Object(n.useEffect)((function(){t.replace("/search?q=".concat(l))}),[l]);var L=function(e,a){I((function(t){return Object(E.a)(Object(E.a)({},t),{},Object($.a)({},e,a.target.value))}))};return r.a.createElement(f.a,null,r.a.createElement("header",{className:x.header},r.a.createElement(p.a,{variant:"h4",className:x.title},r.a.createElement(s.b,{to:"/"},"Movie Searcher")),r.a.createElement(U,{value:l,onChangeMovie:function(e){v(e)},onChange:function(e){u(e)},setIsSearching:O,filter:S}),r.a.createElement(w.a,{display:"flex",justifyContent:"space-between",width:"100%",margin:"2rem 0"},r.a.createElement(w.a,{width:"calc(100% / 5)",display:"flex",flexDirection:"column",marginRight:"1rem"},r.a.createElement(p.a,{variant:"subtitle2",className:x.filterTitle},"Nations:"),r.a.createElement(Z.a,{value:S.nation,onChange:function(e){L("nation",e)}},r.a.createElement(ee.a,{value:"1"},"Select a nation"),oe.map((function(e){return r.a.createElement(ee.a,{key:e,value:e},e)})))),r.a.createElement(w.a,{width:"calc(100% / 5)",display:"flex",flexDirection:"column",marginRight:"1rem"},r.a.createElement(p.a,{variant:"subtitle1",className:x.filterTitle},"Release Year:"),r.a.createElement(Z.a,{value:S.year,onChange:function(e){L("year",e)}},r.a.createElement(ee.a,{value:"1"},"Select a year"),ie.map((function(e){return r.a.createElement(ee.a,{key:e,value:e},e)}))))),Object.values(S).some((function(e){return"1"!==e}))&&r.a.createElement(J.a,{variant:"contained",style:{background:K.a[500],color:"white"},onClick:function(){I({year:"1",nation:"1"})}},"Clear filters")),r.a.createElement("main",null,r.a.createElement(p.a,{variant:"h6"},"Search results for: ",l," (",b.length,")"),k?r.a.createElement(N.a,{color:"secondary",size:40,style:{margin:"auto",color:h.a[500],display:"block"}}):0===b.length?r.a.createElement(p.a,{variant:"h4"},"No movies found"):r.a.createElement(ce,{movies:b||[],history:t})))},me=(t(133),r.a.createContext());me.displayName="AppContext";var ue=function(){var e=Object(n.useState)({year:"1",nation:"1"}),a=Object(m.a)(e,2),t=a[0],c=a[1];return r.a.createElement(me.Provider,{value:{filter:t,setFilter:c}},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:F}),r.a.createElement(u.a,{exact:!0,path:"/search",component:se}),r.a.createElement(u.a,{exact:!0,path:"/search-detail/:movieId",component:Y})))},de=t(85),fe=Object(de.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:K.a.A400},background:{default:"#fff"}}}),pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function he(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(i.a,{theme:fe},r.a.createElement(l.a,null),r.a.createElement(s.a,null,r.a.createElement(ue,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/fe",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/fe","/service-worker.js");pe?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):he(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):he(a,e)}))}}()},98:function(e,a,t){e.exports=t(134)}},[[98,1,2]]]);
//# sourceMappingURL=main.52fd5417.chunk.js.map