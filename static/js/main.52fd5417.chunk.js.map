{"version":3,"sources":["components/search-input/auto-complete.js","api/index.js","components/search-input/index.js","pages/main.js","pages/movie-detail.js","components/movie-list/index.js","pages/search.js","App.js","theme.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","container","width","overflow","maxHeight","margin","backgroundColor","palette","common","white","borderRadius","border","borderTopLeftRadius","borderTop","borderTopRightRadius","position","zIndex","movieItem","cursor","fade","black","movieImage","height","MyAutoComplete","movies","isSearching","classes","history","useHistory","List","className","CircularProgress","color","size","style","indigo","display","length","map","movie","ListItem","key","onClick","push","ListItemIcon","src","image","alt","name","imageStyle","ListItemText","myAxios","axios","create","baseURL","headers","postRequest","url","body","a","post","res","hasError","data","JSON","stringify","get","search","marginLeft","searchIcon","padding","spacing","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","hasSearchValue","borderBottom","borderBottomLeftRadius","borderBottomRightRadius","SearchInput","value","onChange","onKeyDown","styleProp","onChangeMovie","setOuterIsSearching","setIsSearching","filter","useState","setSearch","setMovies","didSearch","setDidSearch","showAutocomplete","setShowAutocomplete","setFilter","useContext","AppContext","turnOffAutoComplete","useCallback","callOuterOnChange","searchFunc","q","handleChange","e","year","nation","target","useEffect","window","addEventListener","removeEventListener","Box","stopPropagation","InputBase","placeholder","root","input","inputProps","flexDirection","header","fontWeight","marginBottom","Main","handleNavigateToSearch","keyCode","Container","Typography","variant","align","background","paper","title","marginRight","textDecoration","watchBtn","red","actorList","overflowX","movieInfoList","flex","MovieDetail","movieId","match","params","setMovie","getRequest","then","to","component","boxShadow","backgroundImage","backgroundSize","backgroundPosition","bottom","Button","href","rel","flexGrow","subheader","ListSubheader","parseFloat","imdb","Rating","max","readOnly","national","categories","c","join","time","isEmpty","relases","Divider","directors","director","index","Avatar","flexWrap","artists","artist","minWidth","paragraph","description","transform","breakpoints","down","media","MovieList","Card","CardHeader","parseInt","CardMedia","process","nations","releaseYears","filterTitle","fontSize","Search","location","query","URLSearchParams","replace","path","state","Select","MenuItem","Object","values","some","f","React","createContext","displayName","App","Provider","exact","createMuiTheme","primary","main","secondary","error","A400","default","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","ReactDOM","render","ThemeProvider","CssBaseline","document","getElementById","URL","origin","fetch","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.52fd5417.chunk.js","sourcesContent":["import React from \"react\";\nimport Image from \"material-ui-image\";\nimport {\n  makeStyles,\n  fade,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { indigo } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    width: \"80ch\",\n    overflow: \"auto\",\n    maxHeight: 300,\n    margin: \"0 auto\",\n    backgroundColor: theme.palette.common.white,\n    borderRadius: \"1rem\",\n    border: \"1px solid #ccc\",\n    borderTopLeftRadius: 0,\n    borderTop: \"none\",\n    borderTopRightRadius: 0,\n    position: \"absolute\",\n    zIndex: 1,\n  },\n  movieItem: {\n    cursor: \"pointer\",\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.black, 0.05),\n    },\n  },\n  movieImage: {\n    width: 40,\n    height: 40,\n  },\n}));\n\nconst MyAutoComplete = ({ movies = [], isSearching = true }) => {\n  //HOOK\n  const classes = useStyles();\n  const history = useHistory();\n\n  //FUNCTION\n\n  return (\n    <List className={classes.container}>\n      {isSearching ? (\n        <CircularProgress\n          color=\"secondary\"\n          size={40}\n          style={{ margin: \"auto\", color: indigo[500], display: \"block\" }}\n        />\n      ) : movies.length > 0 ? (\n        movies.map((movie) => (\n          <ListItem\n            key={movie[\"_id\"]}\n            className={classes.movieItem}\n            onClick={() => {\n              history.push(`/search-detail/${movie[\"_id\"]}`);\n            }}\n          >\n            <ListItemIcon className={classes.movieImage}>\n              <Image\n                src={movie.image}\n                alt={movie.name}\n                imageStyle={{ borderRadius: \"50%\", width: 40, height: 40 }}\n              />\n            </ListItemIcon>\n            <ListItemText>{movie.name}</ListItemText>\n          </ListItem>\n        ))\n      ) : (\n        <ListItem>\n          <ListItemText>No results</ListItemText>\n        </ListItem>\n      )}\n    </List>\n  );\n};\n\nexport default MyAutoComplete;\n","import axios from \"axios\";\n\nconst baseURL =\n  process.env.NODE_ENV === \"production\"\n    ? \"https://t-connect-backend.koreasouth.cloudapp.azure.com/movies/\"\n    : \"http://localhost:5000/\";\n\nconst myAxios = axios.create({\n  baseURL,\n  headers: {\n    \"content-type\": \"application/json\",\n  },\n});\n\nexport async function postRequest(url, body) {\n  try {\n    const res = await myAxios.post(url, body);\n    return {\n      hasError: false,\n      data: res.data,\n    };\n  } catch (err) {\n    return {\n      hasError: true,\n      data: JSON.stringify(err),\n    };\n  }\n}\n\nexport async function getRequest(url) {\n  try {\n    const res = await myAxios.get(url);\n    return {\n      hasError: false,\n      data: res.data,\n    };\n  } catch (err) {\n    return {\n      hasError: true,\n      data: JSON.stringify(err),\n    };\n  }\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { makeStyles, InputBase, fade, Box } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { indigo } from \"@material-ui/core/colors\";\nimport React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport MyAutoComplete from \"./auto-complete\";\nimport { postRequest } from \"../../api\";\nimport { AppContext } from \"../../App\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    position: \"relative\",\n  },\n  search: {\n    position: \"relative\",\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    border: \"1px solid #ccc\",\n    borderRadius: \"1rem\",\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    width: \"80ch\",\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: \"100%\",\n    position: \"absolute\",\n    pointerEvents: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    color: indigo[500],\n  },\n  inputRoot: {\n    color: \"inherit\",\n    width: \"100%\",\n  },\n  inputInput: {\n    padding: theme.spacing(1.5),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n  },\n  hasSearchValue: {\n    borderBottom: \"none\",\n    borderBottomLeftRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n}));\n\nfunction SearchInput({\n  value = \"\",\n  onChange,\n  onKeyDown,\n  styleProp,\n  onChangeMovie,\n  setIsSearching: setOuterIsSearching,\n  filter,\n}) {\n  //STATE\n  const [search, setSearch] = useState(value);\n  const [movies, setMovies] = useState([]);\n  const [didSearch, setDidSearch] = useState(false);\n  const [showAutocomplete, setShowAutocomplete] = useState(true);\n  const [isSearching, setIsSearching] = useState(false);\n\n  const { setFilter } = useContext(AppContext);\n\n  //FUNCTION\n  const turnOffAutoComplete = useCallback(() => {\n    setShowAutocomplete(false);\n  });\n  const callOuterOnChange = useCallback(() => {\n    onChange && onChange(search);\n  }, [search]);\n\n  const searchFunc = useCallback(async () => {\n    setIsSearching(true);\n    const res = await postRequest(\"/search\", { q: search, ...filter });\n    if (!res.hasError) {\n      setMovies(res.data);\n      onChangeMovie && onChangeMovie(res.data);\n    }\n    setIsSearching(false);\n  });\n\n  const handleChange = useCallback((e) => {\n    setFilter({\n      year: \"1\",\n      nation: \"1\",\n    });\n    setSearch(e.target.value);\n    setDidSearch(true);\n  });\n\n  // HOOK\n  const classes = useStyles(styleProp);\n  useEffect(() => {\n    callOuterOnChange();\n    searchFunc();\n  }, [search]);\n\n  useEffect(() => {\n    setOuterIsSearching && setOuterIsSearching(isSearching);\n  }, [isSearching]);\n\n  useEffect(() => {\n    searchFunc();\n  }, [filter]);\n\n  useEffect(() => {\n    window.addEventListener(\"click\", turnOffAutoComplete);\n    return () => {\n      window.removeEventListener(\"click\", turnOffAutoComplete);\n    };\n  });\n\n  return (\n    <Box\n      className={classes.container}\n      onClick={(e) => {\n        e.stopPropagation();\n        setShowAutocomplete(true);\n      }}\n    >\n      <div\n        className={`${classes.search} ${\n          didSearch && showAutocomplete && classes.hasSearchValue\n        }`}\n      >\n        <div className={classes.searchIcon}>\n          <SearchIcon />\n        </div>\n        <InputBase\n          placeholder=\"Enter movie name, actor, description,...\"\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput,\n          }}\n          inputProps={{ \"aria-label\": \"search\" }}\n          value={search}\n          onChange={(e) => {\n            handleChange(e);\n          }}\n          onKeyDown={(e) => {\n            onKeyDown && onKeyDown(e);\n          }}\n        />\n      </div>\n      {didSearch && showAutocomplete && (\n        <MyAutoComplete movies={movies} isSearching={isSearching} />\n      )}\n    </Box>\n  );\n}\n\nexport default SearchInput;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { Container, Typography, makeStyles } from \"@material-ui/core\";\nimport { indigo } from \"@material-ui/core/colors\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport SearchInput from \"../components/search-input\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    height: \"100vh\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n  header: {\n    color: indigo[500],\n    fontWeight: \"medium\",\n    marginBottom: theme.spacing(6),\n  },\n}));\n\nfunction Main({ history }) {\n  //STATE\n  const [search, setSearch] = useState(\"\");\n  // HOOK\n  const classes = useStyles();\n\n  const handleNavigateToSearch = useCallback(\n    (e) => {\n      if (e.keyCode === 13) {\n        history.push(`/search?q=${search}`);\n      }\n    },\n    [search]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleNavigateToSearch);\n    return () => {\n      window.removeEventListener(\"keydown\", handleNavigateToSearch);\n    };\n  });\n\n  return (\n    <Container className={classes.container}>\n      <Typography variant=\"h2\" align=\"center\" className={classes.header}>\n        Movie Searcher\n      </Typography>\n      <SearchInput onChange={(value) => setSearch(value)} />\n    </Container>\n  );\n}\n\nexport default Main;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport {\n  Container,\n  Typography,\n  makeStyles,\n  Box,\n  Button,\n  List,\n  ListSubheader,\n  ListItem,\n  ListItemText,\n  Avatar,\n  Divider,\n} from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport { indigo, red } from \"@material-ui/core/colors\";\nimport Image from \"material-ui-image\";\nimport { isEmpty } from \"lodash\";\nimport { getRequest } from \"../api\";\nimport { Rating } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n    borderBottom: \"1px solid #eee\",\n    background: theme.palette.background.paper,\n    marginBottom: \"0.5rem\",\n  },\n  title: {\n    color: indigo[500],\n    marginRight: theme.spacing(2),\n    \"& a\": {\n      textDecoration: \"none !important\",\n    },\n  },\n  watchBtn: {\n    display: \"block\",\n    background: red[500],\n    color: \"#fff\",\n    margin: \"auto\",\n    \"&:hover\": {\n      background: red[700],\n    },\n    \"& a\": {\n      textDecoration: \"none !important\",\n      color: \"#fff !important\",\n    },\n  },\n  actorList: {\n    overflowX: \"auto\",\n    maxHeight: \"150px\",\n  },\n  movieInfoList: {\n    flex: 1,\n    overflow: \"auto\",\n    position: \"relative\",\n  },\n}));\n\nfunction MovieDetail({ match }) {\n  const movieId = match.params.movieId;\n  //STATE\n  const [movie, setMovie] = useState(null);\n\n  //HOOK\n  const classes = useStyles();\n  useEffect(() => {\n    getRequest(`/movie-detail/${movieId}`).then((res) => {\n      if (!res.hasError) {\n        setMovie(res.data);\n      }\n    });\n  }, []);\n\n  return (\n    <Container>\n      <header className={classes.header}>\n        <Typography variant=\"h4\" className={classes.title}>\n          <Link to=\"/\">Movie Searcher</Link>\n        </Typography>\n      </header>\n      <Box component=\"main\" style={{ background: \"#f0f2f5\" }}>\n        {movie ? (\n          <Box boxShadow={1}>\n            <Box\n              display=\"flex\"\n              height={500}\n              position=\"relative\"\n              padding={2}\n              style={{ background: \"#fff\" }}\n            >\n              <Box\n                className=\"image\"\n                style={{\n                  backgroundImage: `url(${movie.image})`,\n                  backgroundSize: \"cover\",\n                  backgroundPosition: \"center\",\n                  zIndex: 0,\n                }}\n                marginRight={2}\n                width=\"30%\"\n                position=\"relative\"\n              >\n                <Image\n                  alt=\"movie poster\"\n                  src={movie.image}\n                  style={{ height: \"100%\" }}\n                />\n                <Box\n                  position=\"absolute\"\n                  bottom={0}\n                  marginBottom={2}\n                  width=\"100%\"\n                >\n                  <Button variant=\"contained\" className={classes.watchBtn}>\n                    <a\n                      href={`http://www.phimmoizz.net/phim/${movieId}/xem-phim.html`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      {\" \"}\n                      Watch movie\n                    </a>\n                  </Button>\n                </Box>\n              </Box>\n              <Box flexGrow={1}>\n                <Typography variant=\"h4\">{movie.name}</Typography>\n                <List\n                  subheader={\n                    <ListSubheader style={{ background: \"#fff\" }}>\n                      Movie information\n                    </ListSubheader>\n                  }\n                  className={classes.movieInfoList}\n                >\n                  <ListItem>\n                    <ListItemText>\n                      <Box display=\"flex\" alignItems=\"center\">\n                        <strong>IDMB: </strong>\n\n                        {parseFloat(movie.imdb) ? (\n                          <Rating\n                            value={parseFloat(movie.imdb)}\n                            max={10}\n                            readOnly\n                            style={{ marginLeft: \"0.5rem\" }}\n                          />\n                        ) : (\n                          <span style={{ marginLeft: \"0.5rem\" }}>Unknown</span>\n                        )}\n                      </Box>\n                    </ListItemText>\n                  </ListItem>\n                  <ListItem>\n                    <ListItemText>\n                      <Box display=\"flex\" alignItems=\"center\">\n                        <strong>Nation:</strong>\n                        <span style={{ marginLeft: \"0.5rem\" }}>\n                          {movie.national}\n                        </span>\n                      </Box>\n                    </ListItemText>\n                  </ListItem>\n                  <ListItem>\n                    <ListItemText>\n                      <Box display=\"flex\" alignItems=\"center\">\n                        <strong>Genres:</strong>\n                        <span style={{ marginLeft: \"0.5rem\" }}>\n                          {movie.categories.map((c) => c.name).join(\", \")}\n                        </span>\n                      </Box>\n                    </ListItemText>\n                  </ListItem>\n                  <ListItem>\n                    <ListItemText>\n                      <Box display=\"flex\" alignItems=\"center\">\n                        <strong>Duration:</strong>\n                        <span style={{ marginLeft: \"0.5rem\" }}>\n                          {movie.time}\n                        </span>\n                      </Box>\n                    </ListItemText>\n                  </ListItem>\n                  <ListItem>\n                    <ListItemText>\n                      <Box display=\"flex\" alignItems=\"center\">\n                        <strong>Release:</strong>\n                        <span style={{ marginLeft: \"0.5rem\" }}>\n                          {!isEmpty(movie.relases) ? movie.relases : \"Unknown\"}\n                        </span>\n                      </Box>\n                    </ListItemText>\n                  </ListItem>\n                </List>\n              </Box>\n            </Box>\n            <Divider />\n\n            <Box style={{ background: \"#fff\" }} padding={2}>\n              <Typography variant=\"h4\">Directors</Typography>\n\n              {movie.directors.length > 0 &&\n                movie.directors.map((director, index) => (\n                  <Box\n                    key={index}\n                    margin=\"0.5rem\"\n                    display=\"inline-flex\"\n                    flexDirection=\"column\"\n                    alignItems=\"center\"\n                    width=\"auto\"\n                  >\n                    <Avatar src={director.image} alt={director[\"name\"]} />\n                    <Typography variant=\"subtitle1\">\n                      {director[\"name\"]}\n                    </Typography>\n                  </Box>\n                ))}\n            </Box>\n\n            <Divider />\n            <Box style={{ background: \"#fff\" }} padding={2}>\n              <Typography variant=\"h4\">Actors</Typography>\n              <Box\n                display=\"flex\"\n                className={classes.actorList}\n                flexDirection=\"column\"\n                flexWrap=\"wrap\"\n              >\n                {movie?.artists?.length > 0 &&\n                  movie.artists.map((artist, index) => (\n                    <Box\n                      key={index}\n                      margin=\"0.5rem\"\n                      display=\"flex\"\n                      flexDirection=\"column\"\n                      alignItems=\"center\"\n                      minWidth={120}\n                    >\n                      <Avatar src={artist.image} alt={artist[\"first_name\"]} />\n                      <Typography variant=\"subtitle1\">\n                        {artist[\"first_name\"]}\n                      </Typography>\n                    </Box>\n                  ))}\n              </Box>\n            </Box>\n            <Divider />\n            <Box style={{ background: \"#fff\" }} padding={2}>\n              <Typography variant=\"h4\">Description</Typography>\n              <Typography paragraph> {movie.description}</Typography>\n            </Box>\n          </Box>\n        ) : (\n          <Typography>No movie detail found</Typography>\n        )}\n      </Box>\n    </Container>\n  );\n}\n\nexport default MovieDetail;\n","import {\n  Box,\n  Card,\n  CardHeader,\n  CardMedia,\n  makeStyles,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport { Rating } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme) => ({\n  movie: {\n    width: `calc(100% / 5 - 1rem)`,\n    padding: theme.spacing(1),\n    transition: \"transform 0.5s ease\",\n    cursor: \"pointer\",\n    margin: \"0.5rem\",\n    \"&:hover\": {\n      transform: \"scale(1.05)\",\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: `calc(100% / 3 - 1rem)`,\n    },\n  },\n  media: {\n    height: 250,\n    backgroundPosition: \"center\",\n  },\n}));\n\nconst MovieList = ({ movies = [], history }) => {\n  //HOOK\n  const classes = useStyles();\n  return (\n    <Box display=\"flex\" flexWrap=\"wrap\" justifyContent=\"center\">\n      {movies.length > 0 &&\n        movies.map((movie) => (\n          <Card\n            key={movie[\"_id\"]}\n            className={classes.movie}\n            onClick={() => {\n              history.push(`/search-detail/${movie[\"_id\"]}`);\n            }}\n          >\n            <CardHeader subheader={movie.time} title={movie.name} />\n            <Rating\n              max={10}\n              value={parseInt(movie.imdb) || 0}\n              readOnly\n              name=\"rating\"\n              size=\"small\"\n            />\n            <CardMedia\n              title={movie.name}\n              image={\n                movie.image ||\n                process.env.PUBLIC_URL + \"/images/placeholder.JPG\"\n              }\n              className={classes.media}\n            />\n          </Card>\n        ))}\n    </Box>\n  );\n};\n\nexport default MovieList;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport {\n  Box,\n  CircularProgress,\n  Container,\n  makeStyles,\n  Select,\n  Typography,\n  MenuItem,\n  Button,\n} from \"@material-ui/core\";\nimport { indigo, red } from \"@material-ui/core/colors\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { AppContext } from \"../App\";\nimport MovieList from \"../components/movie-list\";\nimport SearchInput from \"../components/search-input\";\n\nconst nations = [\n  \"Việt Nam\",\n  \"Trung Quốc\",\n  \"Mỹ\",\n  \"Hàn Quốc\",\n  \"Nhật Bản\",\n  \"Hồng Kong\",\n  \"Ấn Độ\",\n  \"Thái Lan\",\n  \"Pháp\",\n  \"Đài Loan\",\n  \"Úc\",\n  \"Canada\",\n  \"Anh\",\n];\n\nconst releaseYears = [2020, 2019, 2018, 2017, 2016];\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n    borderBottom: \"1px solid #919191\",\n    flexWrap: \"wrap\",\n    marginBottom: \"1rem\",\n  },\n  title: {\n    color: indigo[500],\n    marginRight: theme.spacing(2),\n    \"& a\": {\n      textDecoration: \"none !important\",\n    },\n  },\n  filterTitle: {\n    fontWeight: \"bold\",\n    fontSize: \"1rem\",\n  },\n}));\n\nconst Search = ({ location, history }) => {\n  const searchParams = new URLSearchParams(location.search);\n  const query = searchParams.get(\"q\") || \"\";\n\n  //STATE\n  const [search, setSearch] = useState(query);\n  const [movies, setMovies] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n  //HOOK\n  const classes = useStyles();\n  const { filter, setFilter } = useContext(AppContext);\n  useEffect(() => {\n    history.replace(`/search?q=${search}`);\n  }, [search]);\n\n  //FUNCTION\n  const handleChange = (path, e) => {\n    setFilter((state) => ({ ...state, [path]: e.target.value }));\n  };\n\n  const handleClearFilters = () => {\n    setFilter({\n      year: \"1\",\n      nation: \"1\",\n    });\n  };\n\n  const shouldShowRemoveFilters = () => {\n    return Object.values(filter).some((f) => f !== \"1\");\n  };\n\n  return (\n    <Container>\n      <header className={classes.header}>\n        <Typography variant=\"h4\" className={classes.title}>\n          <Link to=\"/\">Movie Searcher</Link>\n        </Typography>\n        <SearchInput\n          value={search}\n          onChangeMovie={(movies) => {\n            setMovies(movies);\n          }}\n          onChange={(value) => {\n            setSearch(value);\n          }}\n          setIsSearching={setIsSearching}\n          filter={filter}\n        />\n        <Box\n          display=\"flex\"\n          justifyContent=\"space-between\"\n          width=\"100%\"\n          margin=\"2rem 0\"\n        >\n          <Box\n            width=\"calc(100% / 5)\"\n            display=\"flex\"\n            flexDirection=\"column\"\n            marginRight=\"1rem\"\n          >\n            <Typography variant=\"subtitle2\" className={classes.filterTitle}>\n              Nations:\n            </Typography>\n            <Select\n              value={filter.nation}\n              onChange={(e) => {\n                handleChange(\"nation\", e);\n              }}\n            >\n              <MenuItem value=\"1\">Select a nation</MenuItem>\n              {nations.map((nation) => (\n                <MenuItem key={nation} value={nation}>\n                  {nation}\n                </MenuItem>\n              ))}\n            </Select>\n          </Box>\n          <Box\n            width=\"calc(100% / 5)\"\n            display=\"flex\"\n            flexDirection=\"column\"\n            marginRight=\"1rem\"\n          >\n            <Typography variant=\"subtitle1\" className={classes.filterTitle}>\n              Release Year:\n            </Typography>\n            <Select\n              value={filter.year}\n              onChange={(e) => {\n                handleChange(\"year\", e);\n              }}\n            >\n              <MenuItem value=\"1\">Select a year</MenuItem>\n              {releaseYears.map((year) => (\n                <MenuItem key={year} value={year}>\n                  {year}\n                </MenuItem>\n              ))}\n            </Select>\n          </Box>\n        </Box>\n        {shouldShowRemoveFilters() && (\n          <Button\n            variant=\"contained\"\n            style={{ background: red[500], color: \"white\" }}\n            onClick={handleClearFilters}\n          >\n            Clear filters\n          </Button>\n        )}\n      </header>\n      <main>\n        <Typography variant=\"h6\">\n          Search results for: {search} ({movies.length})\n        </Typography>\n\n        {isSearching ? (\n          <CircularProgress\n            color=\"secondary\"\n            size={40}\n            style={{ margin: \"auto\", color: indigo[500], display: \"block\" }}\n          />\n        ) : movies.length === 0 ? (\n          <Typography variant=\"h4\">No movies found</Typography>\n        ) : (\n          <MovieList movies={movies || []} history={history} />\n        )}\n      </main>\n    </Container>\n  );\n};\n\nexport default Search;\n","import React, { useState } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Main from \"./pages/main.js\";\nimport MovieDetail from \"./pages/movie-detail.js\";\nimport Search from \"./pages/search.js\";\nimport \"./app.scss\";\n\nexport const AppContext = React.createContext();\nAppContext.displayName = \"AppContext\";\n\nfunction App() {\n  const [filter, setFilter] = useState({\n    year: \"1\",\n    nation: \"1\",\n  });\n\n  return (\n    <AppContext.Provider value={{ filter, setFilter }}>\n      <Switch>\n        <Route exact path=\"/\" component={Main} />\n        <Route exact path=\"/search\" component={Search} />\n        <Route exact path=\"/search-detail/:movieId\" component={MovieDetail} />\n      </Switch>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import { red } from \"@material-ui/core/colors\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\n\n// A custom theme for this app\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#556cd6\",\n    },\n    secondary: {\n      main: \"#19857b\",\n    },\n    error: {\n      main: red.A400,\n    },\n    background: {\n      default: \"#fff\",\n    },\n  },\n});\n\nexport default theme;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { HashRouter } from \"react-router-dom\";\n\nimport App from \"./App\";\nimport theme from \"./theme\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </ThemeProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}